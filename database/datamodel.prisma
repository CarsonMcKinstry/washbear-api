type User {
  avatar: String
  email: String @unique
  id: ID! @unique
  name: String!
  password: String
  facebookId: String @unique
  bookmarks: [Bookmark!]!
  posts: [Post!]!
}

type Geolocation {
  post: Post! @relation(name: "PostGeolocation")
  lat: Float!
  long: Float!
}

type Bookmark {
  user: User!
  post: Post!
}

"""
TODO:
we'll use tags once this has been resolved
https://github.com/prisma/prisma/issues/1275
Current behaviour: scalar lists are a bit screwy
"""
type Post {
  id: ID! @unique
  postedBy: User!
  title: String!
  title_normalized: String!
  createdAt: DateTime!
  updatedAt: DateTime!
  startsAt: DateTime!
  endsAt: DateTime!
  geolocation: Geolocation @relation(name: "PostGeolocation", onDelete: CASCADE)
  bookmarks: [Bookmark!]!
  photos: [Photo!]!
  # tags: [String!]!
}

type Photo {
  url: String!
  postedBy: User!
  post: Post!
  title: String
  description: String
  price: Int
  currency: CurrencyEnum
}

enum CurrencyEnum {
  USD
  EUR
  CAD
  GBP
  AUD
}

